Then, expressing <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>o</mi><mi>j</mi></msub></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-669" style="width: 1.003em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 0.833em;"><span style="position: absolute; clip: rect(1.615em, 1000.83em, 2.683em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-670"><span class="msubsup" id="MathJax-Span-671"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-672" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-673" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.42em; border-left: 0px solid; width: 0px; height: 1.016em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-42">o_j</script> as
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>o</mi><mi>j</mi></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi></mfrac></mstyle><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>z</mi><mi>j</mi></msub></mrow></msup><mspace width=&quot;thinmathspace&quot; /><mo>,</mo><mspace width=&quot;thinmathspace&quot; /><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi><mo>=</mo><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>z</mi><mi>i</mi></msub></mrow></msup><mspace width=&quot;thickmathspace&quot; /><mo stretchy=&quot;false&quot;>&amp;#x27F9;</mo><mspace width=&quot;thickmathspace&quot; /><mi>log</mi><mo>&amp;#x2061;</mo><msub><mi>o</mi><mi>j</mi></msub><mo>=</mo><msub><mi>z</mi><mi>j</mi></msub><mo>&amp;#x2212;</mo><mi>log</mi><mo>&amp;#x2061;</mo><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-674" style="width: 24.447em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 20.333em;"><span style="position: absolute; clip: rect(1.161em, 1020.29em, 3.636em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-675"><span class="msubsup" id="MathJax-Span-676"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-677" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-678" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-679" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mstyle" id="MathJax-Span-680" style="padding-left: 0.278em;"><span class="mrow" id="MathJax-Span-681"><span class="mfrac" id="MathJax-Span-682"><span style="display: inline-block; position: relative; height: 0px; width: 0.631em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.362em, 1000.3em, 4.167em, -1000em); top: -4.414em; left: 50%; margin-left: -0.177em;"><span class="mn" id="MathJax-Span-683" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.336em, 1000.48em, 4.167em, -1000em); top: -3.588em; left: 50%; margin-left: -0.255em;"><span class="mi" id="MathJax-Span-684" style="font-size: 70.7%; font-family: MathJax_Main;">Ω</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1000.63em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.631em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span></span></span><span class="msubsup" id="MathJax-Span-685"><span style="display: inline-block; position: relative; height: 0px; width: 1.129em;"><span style="position: absolute; clip: rect(3.391em, 1000.43em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-686" style="font-family: MathJax_Math; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -4.413em; left: 0.466em;"><span class="texatom" id="MathJax-Span-687"><span class="mrow" id="MathJax-Span-688"><span class="msubsup" id="MathJax-Span-689"><span style="display: inline-block; position: relative; height: 0px; width: 0.588em;"><span style="position: absolute; clip: rect(3.521em, 1000.33em, 4.174em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-690" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.894em; left: 0.329em;"><span class="mi" id="MathJax-Span-691" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mspace" id="MathJax-Span-692" style="height: 0em; vertical-align: 0em; width: 0.167em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-693" style="font-family: MathJax_Main;">,</span><span class="mspace" id="MathJax-Span-694" style="height: 0em; vertical-align: 0em; width: 0.167em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-695" style="font-family: MathJax_Main; padding-left: 0.167em;">Ω</span><span class="mo" id="MathJax-Span-696" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-697" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.444em;"><span style="position: absolute; clip: rect(2.883em, 1001.39em, 4.617em, -1000em); top: -4em; left: 0em;"><span class="mo" id="MathJax-Span-698" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.366em, 1000.21em, 4.274em, -1000em); top: -2.916em; left: 0.6em;"><span class="mi" id="MathJax-Span-699" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-700" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.095em;"><span style="position: absolute; clip: rect(3.391em, 1000.43em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-701" style="font-family: MathJax_Math; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -4.413em; left: 0.466em;"><span class="texatom" id="MathJax-Span-702"><span class="mrow" id="MathJax-Span-703"><span class="msubsup" id="MathJax-Span-704"><span style="display: inline-block; position: relative; height: 0px; width: 0.554em;"><span style="position: absolute; clip: rect(3.521em, 1000.33em, 4.174em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-705" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.894em; left: 0.329em;"><span class="mi" id="MathJax-Span-706" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mspace" id="MathJax-Span-707" style="height: 0em; vertical-align: 0em; width: 0.278em; display: inline-block; overflow: hidden;"></span><span class="mo" id="MathJax-Span-708" style="font-family: MathJax_Main; padding-left: 0.278em;">⟹</span><span class="mspace" id="MathJax-Span-709" style="height: 0em; vertical-align: 0em; width: 0.278em; display: inline-block; overflow: hidden;"></span><span class="mi" id="MathJax-Span-710" style="font-family: MathJax_Main; padding-left: 0.278em;">log</span><span class="mo" id="MathJax-Span-711"></span><span class="msubsup" id="MathJax-Span-712" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-713" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-714" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-715" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-716" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.831em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-717" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-718" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-719" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mi" id="MathJax-Span-720" style="font-family: MathJax_Main; padding-left: 0.222em;">log</span><span class="mo" id="MathJax-Span-721"></span><span class="mi" id="MathJax-Span-722" style="font-family: MathJax_Main; padding-left: 0.167em;">Ω</span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.497em; border-left: 0px solid; width: 0px; height: 2.704em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-43">o_j=\tfrac{1}{\Omega}e^{z_j} \,,\, \Omega=\sum_ie^{z_i} \implies \log o_j=z_j-\log\Omega</script>
we have
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><mi>log</mi><mo>&amp;#x2061;</mo><msub><mi>o</mi><mi>j</mi></msub></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>z</mi><mi>k</mi></msub></mrow></mfrac><mo>=</mo><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mi>k</mi></mrow></msub><mo>&amp;#x2212;</mo><mfrac><mn>1</mn><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi></mfrac><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>z</mi><mi>k</mi></msub></mrow></mfrac></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-723" style="width: 12.114em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 10.056em;"><span style="position: absolute; clip: rect(0.623em, 1010.06em, 3.296em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-724"><span class="mfrac" id="MathJax-Span-725"><span style="display: inline-block; position: relative; height: 0px; width: 3.149em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.118em, 1003.03em, 4.461em, -1000em); top: -4.773em; left: 50%; margin-left: -1.515em;"><span class="mrow" id="MathJax-Span-726"><span class="mi" id="MathJax-Span-727" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="mi" id="MathJax-Span-728" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-729"></span><span class="msubsup" id="MathJax-Span-730" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-731" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-732" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.118em, 1001.47em, 4.324em, -1000em); top: -3.306em; left: 50%; margin-left: -0.737em;"><span class="mrow" id="MathJax-Span-733"><span class="mi" id="MathJax-Span-734" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-735"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-736" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-737" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1003.15em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.149em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span><span class="mo" id="MathJax-Span-738" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-739" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.179em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-740" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-741"><span class="mrow" id="MathJax-Span-742"><span class="mi" id="MathJax-Span-743" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mi" id="MathJax-Span-744" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-745" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="mfrac" id="MathJax-Span-746" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.842em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.167em, 1000.43em, 4.167em, -1000em); top: -4.677em; left: 50%; margin-left: -0.25em;"><span class="mn" id="MathJax-Span-747" style="font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.129em, 1000.68em, 4.167em, -1000em); top: -3.314em; left: 50%; margin-left: -0.361em;"><span class="mi" id="MathJax-Span-748" style="font-family: MathJax_Main;">Ω</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1000.84em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.842em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-749"><span style="display: inline-block; position: relative; height: 0px; width: 1.594em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.118em, 1001.24em, 4.189em, -1000em); top: -4.677em; left: 50%; margin-left: -0.644em;"><span class="mrow" id="MathJax-Span-750"><span class="mi" id="MathJax-Span-751" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="mi" id="MathJax-Span-752" style="font-family: MathJax_Main;">Ω</span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.118em, 1001.47em, 4.324em, -1000em); top: -3.306em; left: 50%; margin-left: -0.737em;"><span class="mrow" id="MathJax-Span-753"><span class="mi" id="MathJax-Span-754" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-755"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-756" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-757" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1001.59em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.594em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.089em; border-left: 0px solid; width: 0px; height: 2.941em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-44">\frac{\partial \log o_j}{\partial z_k}=\delta_{jk}-\frac{1}{\Omega}\frac{\partial\Omega}{\partial z_k}</script>
where <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mi>k</mi></mrow></msub></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-758" style="width: 1.447em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 1.167em;"><span style="position: absolute; clip: rect(1.339em, 1001.17em, 2.683em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-759"><span class="msubsup" id="MathJax-Span-760"><span style="display: inline-block; position: relative; height: 0px; width: 1.179em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-761" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-762"><span class="mrow" id="MathJax-Span-763"><span class="mi" id="MathJax-Span-764" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mi" id="MathJax-Span-765" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.42em; border-left: 0px solid; width: 0px; height: 1.347em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-45">\delta_{jk}</script> is the <a href="https://en.wikipedia.org/wiki/Kronecker_delta" rel="noreferrer">Kronecker delta</a>. Then the gradient of the softmax-denominator is
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><mi mathvariant=&quot;normal&quot;>&amp;#x03A9;</mi></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>z</mi><mi>k</mi></msub></mrow></mfrac><mo>=</mo><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>z</mi><mi>i</mi></msub></mrow></msup><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>k</mi></mrow></msub><mo>=</mo><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>z</mi><mi>k</mi></msub></mrow></msup></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-766" style="width: 11.447em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 9.5em;"><span style="position: absolute; clip: rect(0.72em, 1009.5em, 3.636em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-767"><span class="mfrac" id="MathJax-Span-768"><span style="display: inline-block; position: relative; height: 0px; width: 1.594em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.118em, 1001.24em, 4.189em, -1000em); top: -4.677em; left: 50%; margin-left: -0.644em;"><span class="mrow" id="MathJax-Span-769"><span class="mi" id="MathJax-Span-770" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="mi" id="MathJax-Span-771" style="font-family: MathJax_Main;">Ω</span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.118em, 1001.47em, 4.324em, -1000em); top: -3.306em; left: 50%; margin-left: -0.737em;"><span class="mrow" id="MathJax-Span-772"><span class="mi" id="MathJax-Span-773" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-774"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-775" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-776" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1001.59em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.594em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span><span class="mo" id="MathJax-Span-777" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="munderover" id="MathJax-Span-778" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.444em;"><span style="position: absolute; clip: rect(2.883em, 1001.39em, 4.617em, -1000em); top: -4em; left: 0em;"><span class="mo" id="MathJax-Span-779" style="font-family: MathJax_Size2; vertical-align: 0em;">∑</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.366em, 1000.21em, 4.274em, -1000em); top: -2.916em; left: 0.6em;"><span class="mi" id="MathJax-Span-780" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-781" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.095em;"><span style="position: absolute; clip: rect(3.391em, 1000.43em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-782" style="font-family: MathJax_Math; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -4.413em; left: 0.466em;"><span class="texatom" id="MathJax-Span-783"><span class="mrow" id="MathJax-Span-784"><span class="msubsup" id="MathJax-Span-785"><span style="display: inline-block; position: relative; height: 0px; width: 0.554em;"><span style="position: absolute; clip: rect(3.521em, 1000.33em, 4.174em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-786" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.894em; left: 0.329em;"><span class="mi" id="MathJax-Span-787" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">i</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-788"><span style="display: inline-block; position: relative; height: 0px; width: 1.131em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-789" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-790"><span class="mrow" id="MathJax-Span-791"><span class="mi" id="MathJax-Span-792" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">i</span><span class="mi" id="MathJax-Span-793" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-794" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-795" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.183em;"><span style="position: absolute; clip: rect(3.391em, 1000.43em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-796" style="font-family: MathJax_Math; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -4.413em; left: 0.466em;"><span class="texatom" id="MathJax-Span-797"><span class="mrow" id="MathJax-Span-798"><span class="msubsup" id="MathJax-Span-799"><span style="display: inline-block; position: relative; height: 0px; width: 0.642em;"><span style="position: absolute; clip: rect(3.521em, 1000.33em, 4.174em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-800" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.894em; left: 0.329em;"><span class="mi" id="MathJax-Span-801" style="font-size: 50%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.497em; border-left: 0px solid; width: 0px; height: 3.233em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-46">\frac{\partial\Omega}{\partial z_k}=\sum_ie^{z_i}\delta_{ik}=e^{z_k}</script>
which gives
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><mi>log</mi><mo>&amp;#x2061;</mo><msub><mi>o</mi><mi>j</mi></msub></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>z</mi><mi>k</mi></msub></mrow></mfrac><mo>=</mo><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mi>k</mi></mrow></msub><mo>&amp;#x2212;</mo><msub><mi>o</mi><mi>k</mi></msub></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-802" style="width: 9.669em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 8.056em;"><span style="position: absolute; clip: rect(0.623em, 1008.06em, 3.296em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-803"><span class="mfrac" id="MathJax-Span-804"><span style="display: inline-block; position: relative; height: 0px; width: 3.149em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.118em, 1003.03em, 4.461em, -1000em); top: -4.773em; left: 50%; margin-left: -1.515em;"><span class="mrow" id="MathJax-Span-805"><span class="mi" id="MathJax-Span-806" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="mi" id="MathJax-Span-807" style="font-family: MathJax_Main; padding-left: 0.167em;">log</span><span class="mo" id="MathJax-Span-808"></span><span class="msubsup" id="MathJax-Span-809" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-810" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-811" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.118em, 1001.47em, 4.324em, -1000em); top: -3.306em; left: 50%; margin-left: -0.737em;"><span class="mrow" id="MathJax-Span-812"><span class="mi" id="MathJax-Span-813" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-814"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-815" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-816" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1003.15em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.149em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span><span class="mo" id="MathJax-Span-817" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-818" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 1.179em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-819" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-820"><span class="mrow" id="MathJax-Span-821"><span class="mi" id="MathJax-Span-822" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mi" id="MathJax-Span-823" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-824" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-825" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.928em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-826" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-827" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.089em; border-left: 0px solid; width: 0px; height: 2.941em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-47">\frac{\partial \log o_j}{\partial z_k}=\delta_{jk}-o_k</script>
or, expanding the log
<span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-48-Frame" tabindex="0" style="text-align: center; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>o</mi><mi>j</mi></msub></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2202;</mi><msub><mi>z</mi><mi>k</mi></msub></mrow></mfrac><mo>=</mo><msub><mi>o</mi><mi>j</mi></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mi>k</mi></mrow></msub><mo>&amp;#x2212;</mo><msub><mi>o</mi><mi>k</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-828" style="width: 9.781em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 8.111em;"><span style="position: absolute; clip: rect(0.623em, 1008.02em, 3.296em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-829"><span class="mfrac" id="MathJax-Span-830"><span style="display: inline-block; position: relative; height: 0px; width: 1.594em; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.118em, 1001.42em, 4.461em, -1000em); top: -4.773em; left: 50%; margin-left: -0.709em;"><span class="mrow" id="MathJax-Span-831"><span class="mi" id="MathJax-Span-832" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-833"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-834" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-835" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(3.118em, 1001.47em, 4.324em, -1000em); top: -3.306em; left: 50%; margin-left: -0.737em;"><span class="mrow" id="MathJax-Span-836"><span class="mi" id="MathJax-Span-837" style="font-family: MathJax_Main;">∂<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.035em;"></span></span><span class="msubsup" id="MathJax-Span-838"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-839" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-840" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; clip: rect(0.819em, 1001.59em, 1.222em, -1000em); top: -1.276em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.594em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.056em;"></span></span></span></span><span class="mo" id="MathJax-Span-841" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="msubsup" id="MathJax-Span-842" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.851em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-843" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-844" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-845" style="font-family: MathJax_Main;">(</span><span class="msubsup" id="MathJax-Span-846"><span style="display: inline-block; position: relative; height: 0px; width: 1.179em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-847" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-848"><span class="mrow" id="MathJax-Span-849"><span class="mi" id="MathJax-Span-850" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mi" id="MathJax-Span-851" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-852" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msubsup" id="MathJax-Span-853" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; height: 0px; width: 0.928em;"><span style="position: absolute; clip: rect(3.392em, 1000.48em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-854" style="font-family: MathJax_Math; font-style: italic;">o</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.485em;"><span class="mi" id="MathJax-Span-855" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span><span class="mo" id="MathJax-Span-856" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.089em; border-left: 0px solid; width: 0px; height: 2.941em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-48">\frac{\partial o_j}{\partial z_k}=o_j(\delta_{jk}-o_k)</script>
Note that the derivative is with respect to <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-49-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>z</mi><mi>k</mi></msub></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-857" style="width: 1.114em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 0.889em;"><span style="position: absolute; clip: rect(1.614em, 1000.89em, 2.547em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-858"><span class="msubsup" id="MathJax-Span-859"><span style="display: inline-block; position: relative; height: 0px; width: 0.908em;"><span style="position: absolute; clip: rect(3.391em, 1000.47em, 4.178em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-860" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.465em;"><span class="mi" id="MathJax-Span-861" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.256em; border-left: 0px solid; width: 0px; height: 0.853em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-49">z_k</script>, an <em>arbitrary</em> component of <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>z</mi></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-862" style="width: 0.558em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 0.444em;"><span style="position: absolute; clip: rect(1.725em, 1000.44em, 2.511em, -1000em); top: -2.333em; left: 0em;"><span class="mrow" id="MathJax-Span-863"><span class="mi" id="MathJax-Span-864" style="font-family: MathJax_Math; font-style: italic;">z<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.333em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.08em; border-left: 0px solid; width: 0px; height: 0.677em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-50">z</script>, which gives the <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-51-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>&amp;#x03B4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>j</mi><mi>k</mi></mrow></msub></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-865" style="width: 1.447em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 1.167em;"><span style="position: absolute; clip: rect(1.339em, 1001.17em, 2.683em, -1000em); top: -2.222em; left: 0em;"><span class="mrow" id="MathJax-Span-866"><span class="msubsup" id="MathJax-Span-867"><span style="display: inline-block; position: relative; height: 0px; width: 1.179em;"><span style="position: absolute; clip: rect(3.116em, 1000.45em, 4.177em, -1000em); top: -4em; left: 0em;"><span class="mi" id="MathJax-Span-868" style="font-family: MathJax_Math; font-style: italic;">δ<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.007em;"></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span><span style="position: absolute; top: -3.85em; left: 0.444em;"><span class="texatom" id="MathJax-Span-869"><span class="mrow" id="MathJax-Span-870"><span class="mi" id="MathJax-Span-871" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">j</span><span class="mi" id="MathJax-Span-872" style="font-size: 70.7%; font-family: MathJax_Math; font-style: italic;">k</span></span></span><span style="display: inline-block; width: 0px; height: 4em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.222em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.42em; border-left: 0px solid; width: 0px; height: 1.347em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-51">\delta_{jk}</script> term (<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>=</mo><mn>1</mn></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-873" style="width: 1.892em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 1.556em;"><span style="position: absolute; clip: rect(1.445em, 1001.48em, 2.444em, -1000em); top: -2.278em; left: 0em;"><span class="mrow" id="MathJax-Span-874"><span class="mo" id="MathJax-Span-875" style="font-family: MathJax_Main;">=</span><span class="mn" id="MathJax-Span-876" style="font-family: MathJax_Main; padding-left: 0.278em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.278em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.067em; border-left: 0px solid; width: 0px; height: 0.933em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-52">=1</script> only when <span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi><mo>=</mo><mi>j</mi></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-877" style="width: 2.781em; display: inline-block;"><span style="display: inline-block; position: relative; height: 0px; font-size: 120%; width: 2.278em;"><span style="position: absolute; clip: rect(1.473em, 1002.27em, 2.704em, -1000em); top: -2.333em; left: 0em;"><span class="mrow" id="MathJax-Span-878"><span class="mi" id="MathJax-Span-879" style="font-family: MathJax_Math; font-style: italic;">k</span><span class="mo" id="MathJax-Span-880" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mi" id="MathJax-Span-881" style="font-family: MathJax_Math; font-style: italic; padding-left: 0.278em;">j</span></span><span style="display: inline-block; width: 0px; height: 2.333em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.311em; border-left: 0px solid; width: 0px; height: 1.211em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-53">k=j</script>).
